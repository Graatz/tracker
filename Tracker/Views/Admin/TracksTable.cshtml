@model IEnumerable<Tracker.Models.Track>

@{
    ViewBag.Title = "Tabela tras";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

@{
    List<SelectListItem> listItems = new List<SelectListItem>();
    listItems.Add(new SelectListItem
    {
        Text = "Od najstarszej",
        Value = "Exemplo1"
    });
    listItems.Add(new SelectListItem
    {
        Text = "Od najnowszej",
        Value = "Exemplo2",
        Selected = true
    });
}

<div class="panel-group">
    <div class="panel">
        <h2>Trasy</h2>

        <table class="table">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(m => m.Id)
                    </th>
                    <th>
                        @Html.DisplayNameFor(m => m.Name)
                    </th>
                    <th>
                        @Html.DisplayNameFor(m => m.User)
                    </th>
                    <th>
                        @Html.DisplayNameFor(m => m.ExternalSignature)
                    </th>
                    <th>
                        @Html.DisplayNameFor(m => m.UploadDate)
                    </th>
                    <th>
                        @Html.DisplayNameFor(m => m.TrackDate)
                    </th>
                    <th>
                        @Html.DisplayNameFor(m => m.Distance)
                    </th>
                    <th>

                    </th>
                    <th>

                    </th>
                </tr>
            </thead>

            @foreach (var track in Model)
            {
                <tr>
                    <td>
                        @track.Id
                    </td>

                    <td>
                        @Html.ActionLink(@track.Name, "Details", "Track", new { id = track.Id }, null)
                    </td>

                    <td>
                        @track.User.Email
                    </td>

                    <td>
                        @track.ExternalSignature
                    </td>

                    <td>
                        @track.UploadDate
                    </td>

                    <td>
                        @track.TrackDate
                    </td>

                    <td>
                        @track.Distance
                    </td>
                    <td>
                        @using (Html.BeginForm("DuplicateTrack", "Track", FormMethod.Post, new { enctype = "multipart/form-data" }))
                        {
                            <input type="hidden" name="trackId" value="@track.Id" />
                            <input type="text" name="number" placeholder="Ilośc duplikatów"/>
                            <button type="submit" class="button-default">Duplikuj</button>
                        }
                    </td>
                    <td>
                        @Html.ActionLink("Delete", "Delete", "Track", new { id = track.Id }, null)
                    </td>
                </tr>
            }
        </table>
    </div>
</div> 



